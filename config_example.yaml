# Vision Framework Configuration Example
# Copy this file to config.yaml and modify as needed

# Detector configuration
detector:
  model_path: "yolov8n.pt"  # Model file path (will auto-download if not exists)
  model_type: "yolo"        # Model type: 'yolo' or 'custom'
  conf_threshold: 0.25      # Confidence threshold (0.0-1.0)
  category_thresholds:      # Category-specific confidence thresholds
    person: 0.7             # Higher threshold for person detection
    car: 0.5               # Lower threshold for car detection
  iou_threshold: 0.45       # IoU threshold for NMS (0.0-1.0)
  device: "auto"            # Device: 'auto' (autoselect), 'cpu', 'cuda', or 'mps'
  # Optional: restrict detections to specific classes. Can be list of
  # class names (strings) or class ids (integers). Examples:
  #   categories: ['person', 'car']
  #   categories: [0, 2]
  categories: null
  # Batch inference configuration
  batch_inference: true     # Enable batch inference for better performance
  dynamic_batch_size: true  # Enable dynamic batch size adjustment
  max_batch_size: 8         # Maximum batch size for dynamic batching
  min_batch_size: 1         # Minimum batch size for dynamic batching
  enable_segmentation: false # Enable instance segmentation (if model supports)

# Tracker configuration
tracker:
  max_age: 30               # Maximum frames a track can be missing
  min_hits: 3               # Minimum hits to confirm a track
  iou_threshold: 0.3        # IoU threshold for matching (0.0-1.0)
  use_kalman: false         # Whether to use Kalman filter

# Pipeline configuration
pipeline:
  enable_tracking: true     # Enable tracking
  detector_config:          # Detector config (can reference detector section)
    model_path: "yolov8n.pt"
    conf_threshold: 0.25
    # Optional categories can also be specified per-pipeline detector config
    # categories: ['person', 'car']
  tracker_config:           # Tracker config (can reference tracker section)
    max_age: 30
    min_hits: 3

# ROI configuration
rois:
  - name: "zone1"
    type: "rectangle"        # Type: 'rectangle', 'polygon', or 'circle'
    points:                  # Points defining the ROI
      - [100, 100]           # For rectangle: [top-left, bottom-right]
      - [400, 300]
  - name: "zone2"
    type: "polygon"
    points:
      - [500, 200]
      - [700, 200]
      - [700, 400]
      - [500, 400]

# Counter configuration
counter:
  count_entering: true       # Count objects entering ROI
  count_exiting: true        # Count objects exiting ROI
  count_inside: true         # Count objects inside ROI
  track_direction: false     # Track direction of movement

# Visualizer configuration
visualizer:
  show_labels: true          # Show class labels
  show_confidences: true     # Show confidence scores
  show_track_ids: true       # Show track IDs
  line_thickness: 2          # Line thickness for boxes
  font_scale: 0.5            # Font scale for text

# Performance monitor configuration
performance:
  window_size: 30            # Size of sliding window for FPS calculation
  log_file: null             # Optional log file path

# Export configuration
export:
  output_dir: "output"        # Default output directory
  formats: ["json", "csv"]   # Default export formats

